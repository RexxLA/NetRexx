\chapter{Address instruction}\label{refparse}
\index{Address,instruction}
\index{Instructions,Address}
\begin{shaded}
\begin{alltt}
\textbf{address} \emph{[environment]} \emph{[expression]}

where \emph{environment} is a native executable or script on the path

\end{alltt}
\end{shaded}
The keyword \emph{address} temporarily or permanently changes the destination of commands. Commands are strings sent to an external environment. You can send commands by specifying clauses consisting of only an expression or by using the \keyword{Address} instruction.

To send a single command to a specified environment, code an
environment, a literal string or a single symbol, which is taken to be
a constant, followed by an expression.

The environment name is the
name of an external procedure or process that can process
commands.

The expression is evaluated to produce a character string
value, and this string is routed to the environment to be processed as
a command.

After execution of the command, environment is set back to
its original state, thus temporarily changing the destination for a
single command. The default environment is \keyword{SYSTEM}, which is the shell
on most operating systems.

After execution, the most recent return code is in the variable \keyword{RC}.

Moreover, any expression which is not intercepted by the translator as a NetRexx clause, is sent to the address environment.
The environment sends the expression to STDIN of the external process or procedure for execution.
Any output received on STDOUT is printed on the console.

\emph{Address} processing can be switched off by the \keyword{noaddress} option.

\textbf{Example:}
\begin{lstlisting}
'echo  "Hello world"'
say RC
address bash 'echo "Hello world"'

address cat
'Hello world'

address 'bash'
'echo "Hello world"'

exitcode=4
'exit '||exitcode
 
say RC
\end{lstlisting}
The program greets the world 4 times, and shows usage of special variable \keyword{RC}.

