\section{The R\textsc{exx}Stream class}\label{refrexxstream}
\index{netrexx.lang,R\textsc{exx}Stream class}

The RexxStream class implements the Classic Rexx inspired I/O
functions. Streams are identified by character string identifiers and
provide for the reading and writing of data. In scripting mode (when
the class definition is generated) a \keyword{uses RexxStream} statement is
automatically included. All methods are \keyword{static}.

\begin{description}
  
\item[charin(name, [start{]}, [length{]})] returns a string read from the stream named by the first
argument.

\item[charout(name,[char{]},[start{]})] returns the count of characters remaining after attempting to
write the second argument to the stream named by the first argument.

\item[chars(name)] indicates whether there are characters remaining in the named
stream. Optionally, it returns a count of the characters remaining and
immediately available.

\item[linein(name,string)] reads a line from the stream named by the first argument,
unless the third argument is zero.

\item[lineout(name,string)] returns '1' or '0', indicating whether the second argument has been successfully written to the stream named by the first argument. A result of '1' means an unsuccessful write.

\item[lines(name)] returns the number of lines remaining in the named stream.

\item[stream(name, [operation{]}, [stream\_command{]})] (Operations) returns a description of the state of, or the result of an
operation upon, the stream named by the first argument.

\end{description}

The methods \keyword{charin} and \keyword{charout} work on UTF
characters, in practice this means that what is read with
\keyword{charin}, needs to be written with \keyword{charout}.


\subsection{Examples}

\begin{lstlisting}[label=datessexample,caption=Example of using Date()]
-- write two lines to the file testdata.txt
lineout('testdata.txt','the first quick brown fox')
lineout('testdata.txt','jumps over the first lazy dog')

-- write two lines to the file testdata2.txt
lineout('testdata2.txt','the second quick brown fox')
lineout('testdata2.txt','jumps over the second lazy dog')

-- close the file
stream('testdata.txt','c','CLOSE')

-- show the lines() function - loop until eof
loop i=1 while lines('testdata.txt') > 0
  say linein('testdata.txt') i
end

-- see if it exists. Returns the full path
say stream('testdata.txt','c','QUERY EXISTS')
-- query its size. Should be 56 bytes
say stream('testdata.txt','c','QUERY SIZE')

-- display lines from different files 
say linein('testdata.txt')
say linein('testdata2.txt')
say linein('testdata.txt')

-- show the charout function, which outputs UTF
loop for 15
  charout('testdata.dat','a')
end

-- read back these 15 characters
loop for 15
  say charin('testdata.dat') 'from loop 15'
end

-- close the file
stream('testdata.dat','c','CLOSE')

-- use the chars() function to loop until EOF
loop i=i while chars('testdata.dat') > 0
  say charin('testdata.dat') 'from chars' i
end

-- display the last modified date of the last file
say stream('testdata.dat','c','QUERY DATETIME')
-- in the post-2000 era
say stream('testdata.dat','c','QUERY TIMESTAMP')

\end{lstlisting}
