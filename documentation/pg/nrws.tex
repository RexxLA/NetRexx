\chapter{The \nr{} Workspace - nrws}
A read-evaluate-print \marginnote{\color{gray}3.08} loop, or REPL, is a very popular way for users to familiarize themselves with the language\footnote{for example, Python, Ruby, Swift and Elixir have them, and there are used in all introductory literature} and design and/or prototype programs. Martin Lafaix has contributed such a facility already in the year 2000, but the inclusion of his \emph{Workspace for \nr{}} took some time. The JSR-199 scripting facility, which was added to the distribution earlier, could do something akin to this, but could not remember variable values over executions. The requirement to fix this issue, and the wish to have some facility that can execute Pipes for \nr{} in the fastest possible way, led to the resurrection of this nearly 20-year old code, with some updates for command history (up- down arrowing through it) and -editing, included multiline-editing. The \nr{} workspace has a requirement of Java 8.

 \section{Installation}
 \emph{nrws} is included in both \nr{}F.jar and \nr{}C.jar. Wherever \nr{} works, its workspace will work.
 It is advisable to have a shortcut for starting it. In the bin directory (for windows users) a \emph{nrws.bat} batchfile can be found. In that same directory a \emph{.bash\_aliases} file can be found, which adds a nrws command for unixlike systems like Linux and macOS. Both are short forms of running \emph{java org.vpad.extra.workpad.Workspace}.

\section{Starting nrws}

To begin using Workspace for \nr{}, issue the command \emph{nrws} to the operating system shell. There is a brief pause, some start-up messages, and then the first frame appears.

The standard prompt (which can be modified in various ways, through
the \emph{nrws.properties} file in the home directory) has a left and
a right component. On the left side, the default is Ready;. On the
right side, the default is the timing of the executed step. The
Workspace can also be configured to show the current computation step in the current \emph{frame}. The concepts of computation step and frame will be explained shortly.

% illustration

When you want to enter input to Workspace for \nr{}, you do so on the same line after the left prompt. The "1" in the right prompt is that computation step number and is incremented after you enter Workspace for \nr{} statements. Note, however, that a system command such as )clear all may change the step number in other ways.

\section{Exit nrws}
To exit from Workspace for \nr{}, type exit and press the Enter key,
or type )quit at the input prompt and press the Enter key. It is possible to configure this to display the following message:
\begin{verbatim}
  Please enter "y" or "yes" if you really want to leave the interactive
  environment and return to the operating system.
You should enter yes, for example, to exit Workspace for \nr{}.
\end{verbatim}
The is also a )pquit system command that always protects your exit from the workspace.

Because Workspace for \nr{} runs on a number of different machines and platforms, operating system shells and windowing environments, there is no standard appearance. You are to experiment with profiles and schemes for shells; one favourite is dark solarized (shown). You can also change the way that Workspace for \nr{} behaves via system commands described later in this chapter and in Appendix A. System commands are special commands, like )set, that begin with a closing parenthesis and are used to change your environment. For example, you can set a system variable so that you are not prompted for confirmation when you want to leave Workspace for \nr{}.

You are ready to begin your journey into the world of Workspace for \nr{}. Let's proceed to the first step.

 \section{Exploring the \nr{} language}

The \nr{} language is a rich language for performing interactive
computations and for building components for the Java libraries. For a
full description, please consult the \emph{The \nr{} Language definition}.

 \section{Arithmetic Expressions}

For arithmetic expressions, use the "+" and "-" operators as in mathematics. Use "*" for multiplication, "/" for division, and "**" for exponentiation. When an expression contains several operators, those of highest precedence are evaluated first. For arithmetic operators, "**" has highest precedence, "*" and "/" have the next highest precedence, and "+" and "-" have the lowest precedence.
\begin{verbatim}
say 1 + 2 - 3 / 4 * 3 ** 2 - 1
-4.75
\end{verbatim}
\nr{} puts implicit parentheses around operations of higher precedence, and groups those of equal precedence from left to right. The above expression is equivalent to this.

\begin{verbatim}
say ((1 + 2) - ((3 / 4) * (3 ** 2))) - 1
-4.75
\end{verbatim}
If an expression contains subexpressions enclosed in parentheses, the parenthesized subexpressions are evaluated first (from left to right, from inside out).

\begin{verbatim}
say 1 + 2 - 3 / (4 * 3 ** (2 - 1))
2.75
\end{verbatim}
\section{Some Types}

Everything in \nr{} has a type. The type determines what operations
can be performed on an object and how the object can be used. For the
following, please keep in mind that sometimes a variable needs to be
assigned a type first.

% (!!! to be continued)

\section{Symbols, Variables, Assignments, and Declarations}

A symbol is a literal used for the input of things like keywords, the name of variables or to identify some algorithm.

A symbol has a name beginning with an uppercase or lowercase alphabetic character, '\$', '(Euro)', or '\_'. Successive characters (if any) can be any of the above, or digits. Case is by default undistinguished : the symbol points is no different from the symbol Points.

A symbol can be used in Workspace for \nr{} as a variable. A variable refers to a value. To assign a value to a variable, the operator "=" is used. A variable initially has no restriction on the kinds of values to which it can refer.

This assignment gives the value 4 to a variable names x:
\begin{verbatim}
x = 4
\end{verbatim}
To restrict the type of objects that can be assigned to a variable, use a declaration:

\begin{verbatim}
y = int
\end{verbatim}
The declaration for y forces values assigned to y to be converted to integer values. If no such conversion is possible, \nr{} refuses to assign a value to y:

\begin{verbatim}
y = 2/3
java.lang.NumberFormatException: Decimal part non-zero: 0.666666667
\end{verbatim}
A type declaration can also be given together with an assignment. The declaration can assist \nr{} in choosing the correct operations to apply:

\begin{verbatim}
f = float 2/3
\end{verbatim}
Any number of expressions can be given on input line. Just separate them by semicolons.

These two expressions have the same effect as the previous single expression:

\begin{verbatim}
f = float; f = 2/3
\end{verbatim}
 \section{Conversion}

Objects of one type can usually be "converted" to objects of several other types. To convert an object to a new type, prefix the expression with the desired type.
\begin{verbatim}
say int sin(PI)
0
\end{verbatim}
Some conversions can be performed automatically when \nr{} tries to evaluate input. Other conversions must be explicitly requested.

\section{Calling Functions}

As we saw earlier, when you want to add or subtract two values, you place the arithmetic operator "+" or "-" between the two arguments denoting the values. To use most of other \nr{} operations, however, you use another syntax: write the name of the operation first, then an open parenthesis, then each arguments separated by commas, and, finally, a closing parenthesis.

This calls the operation sqrt with the single integer argument 120:
\begin{verbatim}
say sqrt(120)
10.95445115010332
\end{verbatim}
This is a call to max with the two integer arguments 125 and 7:

\begin{verbatim}
say max(125, 7)
125
\end{verbatim}
This calls an hypothetical quatern operation with four floating-point arguments:

\begin{verbatim}
quatern(3.4, 5.6, 2.9, 0.1)
\end{verbatim}
If the operation has no arguments, you can omit the parenthesis. That is, these two expressions are equivalent:

\begin{verbatim}
say random()
\end{verbatim}
and

\begin{verbatim}
say random
\end{verbatim}
% (!!! methods)

 \section{Long Lines}

When you enter expressions from your keyboard, there will be time when they are too long to fit on one line. Workspace for \nr{} does not care how long your lines are, so you can let them continue from the right margin to the left side of the next line.

Alternatively, you may want to enter several shorter lines and have Workspace for \nr{} glue them together. To get this glue, put an hyphen (-) at the end of each line you wish to continue.
\begin{verbatim}
say 2 -
+ -
3
\end{verbatim}
is the same as if you had entered

\begin{verbatim}
say 2 + 3
\end{verbatim}
Comment statements begin with two consecutive hyphens and continue until the end of the line.

\begin{verbatim}
say 2 + 3 -- this is rather simple, no?
\end{verbatim}

The third way to accomplish this is to use the built-in multiline
editing facility. Just press [Esq]-[Enter] to continue with the next
line of a multiline block - with the first [Enter] key the whole block
will be passed to the Workspace. These multiline blocks can also be
recalled and edited with arrow-up.

 \section{Numbers}

Workspace for \nr{} distinguishes very carefully between different kinds of numbers, how they are represented and what their properties are.

 \section{Data Structures}

Workspace for \nr{} has a large variety of data structures available. Many data structures are particularly useful for interactive computation and others are useful for building applications. The data structures of Workspace for \nr{} are organized into class hierarchies.

A one-dimensional array is the most commonly used data structure in Workspace for \nr{} for holding objects all of the same type. One-dimensional arrays are inflexible---they are implemented using a fixed block of storage. They give equal access time to any element.

Write an array of elements using square brackets with commas separating the elements:
\begin{verbatim}
a = [1, -7, 11]
\end{verbatim}
The index of the first element is zero. This is the value of the third element:

\begin{verbatim}
say a[2]
11
\end{verbatim}
An important point about arrays is that they are \emph{mutable}: their constituent elements can be changed \emph{in place}:

\begin{verbatim}
a[2] = 5; say a[0] a[1] a[2]
1 -7 5
\end{verbatim}
Examples of datatypes similar to one-dimensional arrays are: StringBuffer (arrays of characters), and BitSet (represented by array of bits).

\begin{verbatim}
say BitSet(32)
{}
\end{verbatim}
A list is another data structure used to hold objects. Unlike arrays, lists can contain elements of different non-primitive types. Also, lists are usually flexible.

A simple way to create a list is to apply the operation asList to an array of elements.

A vector is a cross between a list and a one-dimensional array. Like a one-dimensional array, a vector occupies a fixed block of storage. Its block of storage, however, has room to expand! When it gets full, it grows (a new, larger block of storage is allocated); when it has too much room, it contracts.

This creates a vector of three elements:

\begin{verbatim}
f = Vector(asList([2, 7, -5]))
\end{verbatim}
The addAll method inserts a list at a specified point. To insert some elements between the second and third elements, use:

\begin{verbatim}
f.addAll(2, asList([11, -3])); say f
[2, 7, 11, -3, -5]
\end{verbatim}
Vectors are used to implement "stacks". A stack is an example of a data structure where elements are ordered with respect to one another.

An easy way to create a stack is to first create an empty stack and then to push elements on it:

\begin{verbatim}
s = Stack(); s.push("element1"); s.push("element2"); s.push("element3")
\end{verbatim}
This loop extracts elements one-at-a-time from s until the stack is exhausted, displaying the elements starting from the top of the stack and going down to the bottom:
\begin{verbatim}
loop while \ s.empty; say s.pop; end
element3
element2
element1
\end{verbatim}
(!!! to be continued)

\section{Expanding to Higher Dimensions}

To get higher dimensional aggregates, you can create one-dimensional aggregates with elements that are themselves aggregates, for example, arrays of arrays, vectors of sets, and so on.

(!!! to be continued)

\section{Writing Your Own Functions}

Java provides you with a very large library of predefined operations and objects to compute with. You can use the Java Class Libraries to create new objects dynamically of quite arbitrary complexity. Moreover, the libraries provides a wealth of operations that allow you to create and manipulate these objects.

For many applications, you need to interact with the interpreter and write some \nr{} programs to tackle your application. Workspace for \nr{} allows you to write functions interactively, thereby effectively extending the system library. Here I give a few simple examples, leaving the details to The \nr{} Language reference manual and related publications.

We begin by looking at several ways that the \emph{factorial} function can
be defined. The first way is to use an if-then-else instruction.
\begin{verbatim}
method fact(n) static; if n < 3 then return n; else return n*fact(n-1)

say fact(50)
30414093201713378043612608166064768844377641568960512000000000000
\end{verbatim}
A second definition directly uses iteration.
\begin{verbatim}
method fac(n) static; a = 1; loop i = 2 to n; a = a * i; end; return a

say fac(50)
30414093201713378043612608166064768844377641568960512000000000000
\end{verbatim}
(!!!to be continued)

 \section{A Typical Session}
\begin{verbatim}
  (12) -> )clear all
  (1) -> f = Frame()
  (2) -> f.setTitle("Hello world!")
  (3) -> f.setSize(200, 300)
  (4) -> f.setPosition(20, 20)
   2 +++ f.setPosition(20, 20)
     +++   ^^^^^^^^^^^
     +++ Error: The method 'setPosition(byte,byte)' cannot be found in
  class 'java.awt.Frame' or a superclass
  (5) -> f.setLocation(20, 20)
  (6) -> f.setVisible(1)
  (7) -> l = Label('Hi there')
  (8) -> say f.getLayout
  java.awt.BorderLayout[hgap=0,vgap=0]
  (9) -> f.add(l, BorderLayout.CENTER)
  (10) -> f.doLayout
  (11) ->
  (12) -> l.setForeground(Color.red)
  (13) -> f.dispose
  (14) -> )quit
\end{verbatim}

 \section{Running Pipelines}
 When an input is not a \nr{} clause, or prefixed by an ')' (and it is a system command,
 see next section) the only allowed command is 'pipe'\footnote{Or,
   since \nr{} 4.04, 'exit', to enable easy quitting nrws.}. This enables us
 to run a pipeline exactly as one would do in z/VM CMS. The built-in
 \nr{} Pipelines component is used to execute a pipeline like one
 can do in the command shell of the operating system, but with
 quotes. More about Pipelines can be found in the \emph{Pipelines Guide and
 Reference}. If you are used to running pipelines on CMS, you can just go ahead and try a few things.

 \section{System Commands}

We conclude our tour of Workspace for \nr{} with a brief discussion of system commands. System commands are special statements that start with a closing parenthesis (")"). They are used to control or display your Workspace for \nr{} environment, start operating system commands and leave Workspace for \nr{}. For example, \keyword{)system} is used to issue commands to the operating system from Workspace for \nr{}. Here is a brief description of some of these commands.

Perhaps the most important user command is the \keyword{)clear all} command that initializes your environment. Every section and subsection in this document has an invisible )\keyword{clear all} that is read prior to the examples given in the section. \keyword{)clear} all gives you a fresh, empty environment with no user variables defined and the step number reset to 1. The \keyword{)clear} command can also be used to selectively clear values and properties of system variables.

Another useful system command is \keyword{)read}. A preferred way to
develop an application in Workspace for \nr{} is to put your
interactive commands into a file, say my.input file. To get Workspace
for \nr{} to read this file, you use the system command \keyword{)read
  my.input}. If you need to make changes to your approach or
definitions, go into your favorite editor, change my.input, then issue
tge command again.

Other system commands include: \keyword{)history}, to display previous input lines; \keyword{)display}, to display properties and values of workspace variables; and \keyword{)what}.

This conclude your tour of Workspace for \nr{}. To disembark, issue the system command \keyword{)quit} to leave Workspace for \nr{} and return to the operating system.

\section{Input Files and \nr{} Files}

This section discusses how to collect Workspace for \nr{} statements and commands into files and then read the contents into the workspace. I also discuss \nr{} files, which are a variation of input files.

\section{Input Files}

In this section it is explained what an input file is and why you
would want to know about it. It is shown where Workspace for \nr{}
looks for input files and how you can direct it to look elsewhere, and
also how to read the contents of an input file into the workspace and how to use the history facility to generate an input file from the statements you have entered directly into the workspace.

An input file contains \nr{} expressions and system commands. Anything
that you can enter directly to Workspace for \nr{} can be put into an
input file. This is how input functions and expressions can be saved that you wish to read into Workspace for \nr{} more than one time.

To read an input file into Workspace for \nr{}, use the )read system command. For example, you can read a file in a particular directory by issuing
\begin{verbatim}
)read /nrws/src/input/matrix.input
\end{verbatim}

The ".input" is optional; this also works:
\begin{verbatim}
)read /nrws/src/input/matrix
\end{verbatim}
What happens if you just enter )read matrix.input or even )read matrix? Workspace for \nr{} looks in your current working directory for input files that are not qualified by a directory name. Typically, this directory is the directory from which you invoked Workspace for \nr{}. To change the current working directory, use the )cd system command. The command )cd by itself shows the current working directory. To change it to the src/input subdirectory for user "bar", issue

\begin{verbatim}
)cd /user/bar/src/input
\end{verbatim}
Workspace for \nr{} looks first in this directory for an input file. If it is not found, it looks in the system's directories, assuming you meant some input file that was provided with Workspace for \nr{}.

If you have the Workspace for \nr{} history facility turned on (which it is by default), you can save all the lines you have entered into the workspace by entering
\begin{verbatim}
)history )write
\end{verbatim}
Workspace for \nr{} tells you what input file to edit to see your statements. The file is in your home directory or in the directory you specified with )cd.

\section{The workspace.input File}

When Workspace for \nr{} starts up, it tries to read the input file workspace.input from your home directory. If there is no workspace.input in your home directory, it reads the copy located in its own src/input directory. The file usually contains system commands to personalize your Workspace for \nr{} environment. In the remainder of this section I mention a few things that users frequently place in their workspace.input files.

If you do not want to be prompted for confirmation when you issue the )quit system command, place )set quit unprotected in workspace.input. If you then decide that you do want to be prompted, issue )set quit protected. This is the default setting so that new users do not leave Workspace for \nr{} inadvertently.

To see the other system variables you can set, issue )set.


\section{The nrws.properties File}

In this file, that is looked for in the home directory, a few
parameters can be specified. For example,
\begin{verbatim}
settings.prompt=nrws>
settings.timer=on
settings.quit=unprotected
\end{verbatim}
indicates that the prompt will be \emph{nrws>}, and the right side of
the screen shows the command exection time instead of the frame
name. Further more, the )quit system command (see next) quits
immediately instead of prompting.

\section{The nrws.history file(s)}

For easy command history retrieval (using the arrow keys) the
Workspace for \nr{} stores executed commands in a nrws.history file
in the current directory. This is buy design not a user global file,
but is written to (and read from) the current directory because it is
plausible that different projects call for different command history.

\section{Workspace for \nr{} System Commands}

This chapter describes system commands, the command-line facilities used to control the Workspace for \nr{} environment. The first section is an introduction and discusses the common syntax of the commands available.

\section{Introduction}

System commands are used to perform Workspace for \nr{} environment management. Among the commands are those that display what has been defined or computed, set up multiple logical Workspace for \nr{} environments (frames), clear definitions, read files of expressions and command, show what functions are available, and terminate Workspace for \nr{}.

Each command listing begins with one or more syntax pattern descriptions plus examples of related commands. The syntax descriptions are intended to be easy to read and do not necessarily represents the most compact way of specifying all possible arguments and options; the descriptions may occasionally be redundant.

All system commands begin with a right parenthesis which should be in the first available column of the input line (that is, immediately after the input prompt, if any). System commands may be issued directly to Workspace for \nr{} or be included in .input files.

A system command argument is a word that directly follows the command name and is not followed or preceded by a right parenthesis. A system command option follows the command and is directly preceded by a right parenthesis. Options may have arguments: they directly follow the option. This example may make it easier to remember what is an option and what is an argument:
\begin{verbatim}
)syscmd arg1 arg2 )opt1 opt1arg1 opt2arg2 )opt2 opt2arg1 ...
\end{verbatim}
In the system command descriptions, optional arguments and options are enclosed in brackets ("[" and "]"). If an argument or option name is in italics, it is meant to be a variable and must have some actual value substituted for it when the system command call is made. For example, the syntax pattern description
\begin{verbatim}
)read fileName [)quietly]
\end{verbatim}
would imply that you must provide an actual file name for fileName but need not to use the )quietly option. Thus

\begin{verbatim}
)read foo.input
\end{verbatim}
is a valid instance of the above pattern.

System commands names and options may be abbreviated and may be in upper or lower case. The case of actual arguments may be significant, depending on the particular situation (such as in file names). System command names and options may be abbreviated to the minimum number of starting letters so that the name or option is unique. Thus

\begin{verbatim}
)s Integer
\end{verbatim}
is not a valid abbreviation for the )set command, because both )set and )show begin with the letter "s". Typically, two or three letters are sufficient for disambiguating names. In my descriptions of the commands, I have used no abbreviations for either command names or options.

In some syntax descriptions I use a vertical line "|" to indicate that you must specify one of the listed choices. For example, in

\begin{verbatim}
)set foobar on | off
\end{verbatim}
only on and off are acceptable words for following foobar. I also sometimes use "..." to indicate that additional arguments or options of the listed form are allowed. Finally, in the syntax descriptions I may also list the syntax of related commands.

\section{)cd}

Command Syntax:
\begin{verbatim}
  )cd
  )cd directory
\end{verbatim}
Command Description:

This command sets the Workspace for \nr{} working directory. The current directory is used for looking for input files (for )read) and for writing history input files (for )history )write).

If used with no argument, this command shows the current working directory. If an argument is used, it must be a valid directory name. Except for the ")" at the beginning of the command, this has the same syntax as the operating system cd command.

Also See: ')history', and ')read'.

\section{)clear}

Command Syntax:
\begin{verbatim}
  )clear all
  )clear properties all
  )clear properties obj1 [obj2 ...]
\end{verbatim}
Command Description:

This command is used to remove functions and variable declarations, definitions and values from the workspace. To empty the entire workspace and reset the step counter to 1, issue
\begin{verbatim}
)clear all
\end{verbatim}
To remove everything in the workspace but not reset the step counter, issue

\begin{verbatim}
)clear properties all
\end{verbatim}
To remove everything about the object x, issue
\begin{verbatim}
)clear properties x
\end{verbatim}

To remove everything about the objects x, y and f, issue
\begin{verbatim}
)clear properties x y f
\end{verbatim}
The word properties may be abbreviated to the single letter "p".
\begin{verbatim}
)clear p all
)clear p x
)clear p x y f
\end{verbatim}

The )display names and )display properties commands may be used to see what is currently in the workspace.

Also See: ')display', ')history'.

\section{)display}

Command Syntax:
\begin{verbatim}
  )display all
  )display properties
  )display properties all
  )display properties [obj1 [obj2 ...]]
  )display type all
  )display type [obj1 [obj2 ...]]
  )display names
\end{verbatim}
Command Description:

This command is used to display the contents of the workspace and signatures of functions with a given name.

The command
\begin{verbatim}
)display names
\end{verbatim}
list the names of all user-defined objects in the workspace. This is useful if you do not wish to see everything about the objects and need only be reminded of their names.

The commands
\begin{verbatim}
)display all
)display properties
)display properties all
\end{verbatim}
all do the same thing: show the values and types of all variables in the workspace. If you have defined functions, their signatures and definitions will also be displayed.

To show all information about a particular variable or user functions, for example, something named d, issue
\begin{verbatim}
)display properties d
\end{verbatim}
The word properties may be abbreviated to the single letter "p".
\begin{verbatim}
)display p all
)display p
)display p d
\end{verbatim}
To just show the declared type of d, issue
\begin{verbatim}
)display type d
)display t d
\end{verbatim}
Also See: ')clear', ')history', ')set', ')show', ')what'.

\section{)frame}

Command Syntax:
\begin{verbatim}
  )frame new frameName
  )frame drop [frameName]
  )frame next
  )frame last
  )frame names
  )frame import frameName [objectName1 [objectName2 ...]]
  )set message prompt frame
\end{verbatim}
Command Description:

A frame can be thought of as a logical session within the physical session that you get when you start the system. You can have as many frames as you want, within the limits of your computer's storage, paging space, and so on. Each frame has its own step number, environment and history. You can have a variable named a in one frame and it will have nothing to do with anything that might be called a in any other frame.

To find out the names of all frames, issue
\begin{verbatim}
)frame names
\end{verbatim}
It will indicate the name of the current frame.

You can create a new frame "quark" by issuing
\begin{verbatim}
)frame new quark
\end{verbatim}
If you wish to go back to what you were doing in the "initial" frame, use
\begin{verbatim}
)frame next
\end{verbatim}
or
\begin{verbatim}
)frame last
\end{verbatim}
to cycle through the ring of available frames to get back to "initial".

If you want to throw away a frame (say "quark"), issue
\begin{verbatim}
)frame drop quark
\end{verbatim}
If you omit the name, the current frame is dropped.

You can bring things from another frame by using )frame import. For example, to bring the f and g from the frame "quark" to the current frame, issue
\begin{verbatim}
)frame import quark f g
\end{verbatim}
If you want everything from the frame "quark", issue
\begin{verbatim}
)frame import quark
\end{verbatim}
You will be asked to verify that you really want everything.

There is one )set flag to make it easier to tell were you are.
\begin{verbatim}
)set message prompt frame
\end{verbatim}
will give a prompt that looks like
\begin{verbatim}
initial (1) -> _
\end{verbatim}
when you start up. In this case, the frame name and step make up the prompt.

Also See: ')history', ')set'

\section{)help}

Command Syntax:
\begin{verbatim}
  )help
  )help commandName
\end{verbatim}
Command Description:

This command displays help information about system commands. If you issue
\begin{verbatim}
)help
\end{verbatim}
a list of possible commands will be shown. You can also give the name or abbreviation of a system command to display information about it. For example,
\begin{verbatim}
)help clear
\end{verbatim}
will display the description of the )clear system command.

\section{)history}

Command Syntax:
\begin{verbatim}
  )history )on
  )history )off
  )history )show [n]
  )history )write historyInputFileName
  )set history on | off
  )set history write protected | unprotected
\end{verbatim}
Command Description:

The history facility within Workspace for \nr{} allows you to restore your environment to that of another session and recall previous computational results. Additional commands allow you to create an .input file of the lines typed to Workspace for \nr{}.

Workspace for \nr{} saves your input if the history facility is turned on (which is the default). This information is saved if either of
\begin{verbatim}
)set history on
)history )on
\end{verbatim}
has been issued. Issuing either
\begin{verbatim}
)set history off
)history )off
\end{verbatim}
will discontinue the recording of information.

Each frame has its own history database.

The options to the )history commands are as follows:
\begin{verbatim}
)on
\end{verbatim}
will start the recording of information. If the workspace is not empty, you will be asked to confirm this request. If you do so, the workspace will be cleared and history data will begin being saved. You can also turn the facility on by issuing )set history on.
\begin{verbatim}
)off
\end{verbatim}
will stop the recording of information. The )history )show command will not work after issuing this command. Note that this command may be issued to save time, as there is some performance penalty paid for saving the environment data. You can also turn the facility off by issuing )set history off.
\begin{verbatim}
)show [n]
\end{verbatim}
can show previous input lines. )show will display up to twenty of the last input lines (fewer if you haven't typed in twenty lines). )show n will display up to n of the last input lines.
)write historyInputFile
creates an .input file with the input typed since the start of the session/frame or the last )clear all. If historyInputFile does not contain a period (".") in the filename, .input is appended to it. For example, )history )write chaos and )history )write chaos.input both write the input lines to a file called chaos.input in your current working directory. You can edit this file and then use )read to have Workspace for \nr{} process the contents.
Also See: ')frame', ')read', ')set'.

\section{)import}

Command Syntax:
\begin{verbatim}
  )import query
  )import package packageName
  )import class fullClassName
  )import drop packageOrFullClassName
\end{verbatim}
Command Description:

This command is used to query, set and remove imported packages.

When used with the query argument, this command may be used to list the names of all imported packages and classes.

The following command lists all imported packages and classes.
\begin{verbatim}
)import query
\end{verbatim}
To remove an imported package or class, the remove argument is used. This is usually only used to correct a previous command that imported a package or a class. If, in fact, the imported package or class does exist, you are prompted for confirmation of the removal request. The following command will remove the imported package com.foo.bar from the system:
\begin{verbatim}
)import drop com.foo.bar
\end{verbatim}
Also See: ')set'

\section{)numeric}

Command Syntax:
\begin{verbatim}
  )numeric
  )numeric digits number
  )numeric form scientific | engineering
  )set numeric digits number
  )set numeric form scientific | engineering
\end{verbatim}
Command Description:

(!!! just like the numeric instruction)

\section{)options}

Command Syntax:
\begin{verbatim}
  )options
  )options )default
  )options option [)off]
  )set option option on | off
\end{verbatim}
Command Description:

This command is used to specify the options in use while interpreting statements.

To list all active options, simply issue

)options
To restore options to their defaults settings, issue
\begin{verbatim}
)options )default
\end{verbatim}
The possible value for option are
\begin{verbatim}
binary
decimal
explicit
strictargs
strictassign
strictcase
strictsignal
default :

nobinary
decimal
noexplicit
nostrictargs
nostrictassign
nostrictcase
nostrictsignal
\end{verbatim}
Also See: ')set'

\section{)package}

Command Syntax:
\begin{verbatim}
  )package
  )package )default
  )package packageName
  )set package default | packageName
\end{verbatim}
Command Description:

(!!! just like the package instruction)

\section{)pquit}

Command Syntax:
\begin{verbatim}
  )pquit
\end{verbatim}
Command Description:

This command is used to terminate Workspace for \nr{} and return to the operating system. Other than by redoing all your computations, you cannot return to Workspace for \nr{} in the same state.

)pquit differs from the )quit in that it always asks for confirmation that you want to terminate Workspace for \nr{} (the "p" is for "protected"). When you enter the )quit command, Workspace for \nr{} responds

  Please enter "y" or "yes" if you really want to leave the interactive
  environment and return to the operating system.
If you respond with y or yes, Workspace for \nr{} will terminate and return you to the operating system (or the environment from which you invoked the system). If you responded with something other that y or yes, then Workspace for \nr{} would still be running.

Also See: ')history', ')quit', ')system'.

\section{)quit}

Command Syntax:
\begin{verbatim}
  )quit
  )set quit protected | unprotected
\end{verbatim}
Command Description:

This command is used to terminate Workspace for \nr{} and return to the operating system. Other than by redoing all your computations, you cannot return to Workspace for \nr{} in the same state.

)quit differs from the )pquit in that it asks for confirmation only if the command
\begin{verbatim}
)set quit protected
\end{verbatim}
has been issued. Otherwise, )quit will make Workspace for \nr{} terminate and return you to the operating system (or the environment from which you invoked the system).

The default setting is )set quit protected so that )quit and )pquit behave the same way. If you do issue
\begin{verbatim}
)set quit unprotected
\end{verbatim}
I suggest that you do not (somehow) assign )quit to be executed when you press, say, a function key.

Also See: ')history', ')pquit', ')system'.

\section{)read}

Command Syntax:
\begin{verbatim}
  )read [fileName]
  )read [fileName] [)quiet] [)ifthere]
\end{verbatim}
Command Description:

This command is used to read .input files into Workspace for \nr{}. The command
\begin{verbatim}
)read matrix.input
\end{verbatim}
will read the contents of the file matrix.input into Workspace for \nr{}. The ".input" file extension is optional. See Section 3.1 for more information about .input files.

This command remembers the previous file you read. If you do not specify a file name, the previous file will be read.

The )ifthere option checks to see whether the .input file exists. If it does not, the )read command does nothing. If you do not use this option and the file does not exist, you are asked to give the name of an existing .input file.

The )quiet option suppresses output while the file is being read.

Also See: ')history'

\section{)set}

Command Syntax:
\begin{verbatim}
  )set
  )set label1 [... labelN]
  )set label1 [... labelN] newValue
\end{verbatim}
Command Description:

The )set command is used to view or set system variables that control what messages are displayed, the type of output desired, the status of the history facility, and so on.

The following arguments are possible:
\begin{verbatim}
)set diag on | off
\end{verbatim}

enables or disables verbose reporting of some run-time errors. (Used for debugging purpose.)
\begin{verbatim}
)set display depth depth
\end{verbatim}
specify the maximum number of elements to display when showing an array. (Default value is 10.)
\begin{verbatim}
)set display depth
\end{verbatim}
show the current display depth.
\begin{verbatim}
)set display level number
\end{verbatim}
specify the maximum number of nested arrays to display when showing an array. (Default value is 4.)
\begin{verbatim}
)set display level
\end{verbatim}
show the current display level.
\begin{verbatim}
)set history write protected | unprotected
\end{verbatim}
specify whether or not to prompt for confirmation when attempting to overwrite an existing file with )history )write.
\begin{verbatim}
)set history on | off
\end{verbatim}
enables or disables history.
\begin{verbatim}
)set import add class className
)set import add package packageName
)set import drop class className
)set import drop package packageName
\end{verbatim}
adds or removes specified class or package from import list.
\begin{verbatim}
)set import
\end{verbatim}
shows the currently imported statements.
\begin{verbatim}
)set interpreter on | off
\end{verbatim}
set the interpreter status. If on, then valid statements will be executed. If off, then no execution will be attempted. (Mostly used for debugging purpose, or if you want to use Workspace for \nr{} on a pre-java2 platform.)
\begin{verbatim}
)set message prompt default
)set message prompt frame
)set message prompt label label
\end{verbatim}
set the prompt status (frame displays the current frame name).
\begin{verbatim}
)set message prompt
\end{verbatim}
shows the current prompt status.
\begin{verbatim}
)set numeric digits number
\end{verbatim}
set the default numeric digits (i.e., for the current frame and all subsequent frames).
\begin{verbatim}
)set numeric digits
\end{verbatim}
shows the current default numeric digits value.
\begin{verbatim}
)set numeric form scientific | engineering
\end{verbatim}
set the default numeric form (i.e., for the current frame and all subsequent frames).
\begin{verbatim}
)set numeric form
\end{verbatim}
shows the current default numeric form.
\begin{verbatim}
)set option option on | off
\end{verbatim}
set the default activity of option option (i.e., for the current frame and all subsequent frames). option being one of : binary, decimal, explicit, strictargs, strictassign, strictcase, or strictsignal.
\begin{verbatim}
)set option option
\end{verbatim}
shows the current option status.
\begin{verbatim}
)set package default
)set package packageName
\end{verbatim}

set the current package name.
\begin{verbatim}
)set package
\end{verbatim}
shows the current package name.
\begin{verbatim}
)set parser quiet | verbose
\end{verbatim}
disables or enables verbose output from the parser. (Used for debugging purposes.)
\begin{verbatim}
)set quit protected | unprotected
\end{verbatim}
set the quit status.
\begin{verbatim}
)set quit
\end{verbatim}
shows the current quit status.
\begin{verbatim}
)set screen width number
\end{verbatim}
set the screen width (in character).
\begin{verbatim}
)set screen width
\end{verbatim}
shows the screen width.
\begin{verbatim}
)set show all | declared
\end{verbatim}
set the amount of information displayed by the )show command.
\begin{verbatim}
)set show
\end{verbatim}
shows the current show status.
\begin{verbatim}
)set trace
)set trace all | off | methods | results
\end{verbatim}
set the default trace level (i.e., for the current frame and all subsequent frames).

\begin{verbatim}
)set use add className
)set use drop className
\end{verbatim}
adds or removes specified class name from use list.

\begin{verbatim}
)set use
\end{verbatim}
shows the current use list.
Also See: ')quit', ')show'

\section{ )show}

Command Syntax:
\begin{verbatim}
  )show nameOrAbbrev
  )show nameOrAbbrev )operations
  )show nameOrAbbrev )attributes
  )set show all | declared
\end{verbatim}
Command Description:

This commands displays information about classes. If no options are given, the )operations option is assumed. For example,
\begin{verbatim}
)show Rectangle
)show Rectangle )operations
)show java.awt.Rectangle
)show java.awt.Rectangle )operations
\end{verbatim}
each display basic information about the java.awt.Rectangle class constructors and then provide a listing of operations.

The basic information displayed includes the signature of the constructors and the operations.

Also See: ')display', ')set'

\section{)synonym}

Command Syntax:
\begin{verbatim}
  )synonym
  )synonym synonym fullCommand
  )what synonyms
\end{verbatim}
Command Description:

This command is used to create short synonyms for system command expressions. For example, the following synonyms might simplify commands you often use.

\begin{verbatim}
)synonym prompt     set message prompt
)synonym mail       system mail
)synonym ls         system ls
\end{verbatim}
Once defined, synonyms can be used in place of the longer command expressions. Thus

\begin{verbatim}
)prompt frame
\end{verbatim}
is the same as the longer

\begin{verbatim}
)set message prompt frame
\end{verbatim}
To list all defined synonyms, issue either of

\begin{verbatim}
)synonym
)what synonym
\end{verbatim}
To list, say, all synonyms that contain the substring "ap", issue

\begin{verbatim}
)what synonym ap
\end{verbatim}
Also See: ')set', 'what'

\section{)system}

Command Syntax:
\begin{verbatim}
)system cmdExpression
\end{verbatim}
Command Description:

This command may be used to issue commands to the operating system while remaining in Workspace for \nr{}. The cmdExpression is passed to the operating system for execution.

If you execute programs that misbehave you may not be able to return to Workspace for \nr{}. If this happens, you may have no other choice than to restart Workspace for \nr{} and restore the environment via )history )restore, if possible.

Also See: ')pquit', ')quit'

\section{)trace}

Command Syntax:
\begin{verbatim}
  )trace
  )trace off
  )trace all
  )trace methods
  )trace results
  )trace var [var1 [var2 ...]]
\end{verbatim}
Command Description:

This command is used to trace the execution of statements and functions defined by users.

To list all currently enabled trace functions, simply issue
\begin{verbatim}
)trace
\end{verbatim}
To untrace everything that is traced, issue

\begin{verbatim}
)trace off
\end{verbatim}
(!!! to be continued, just like the trace instruction)

\section{)use}

Command Syntax:

\begin{verbatim}
  )use query
  )use add className
  )use drop className
\end{verbatim}
Command Description:

(!!! like the uses phrase in class instruction)

\section{)what}

Command Syntax:
\begin{verbatim}
  )what commands pattern1 [pattern2 ...]
  )what synonym pattern1 [pattern2 ...]
  )what things pattern1 [pattern2 ...]
  )apropos pattern1 [pattern2 ...]
\end{verbatim}
Command Description:

This command is used to display lists of things in the system. The patterns are all strings and, if present, restrict the contents of the lists. Only those items that contain one or more of the strings as substrings are displayed. For example,

\begin{verbatim}
)what synonyms
\end{verbatim}
displays all command synonyms,

\begin{verbatim}
)what synonyms ver
\end{verbatim}
displays all command synonyms containing the substring "ver",

\begin{verbatim}
)what synonyms ver pr
\end{verbatim}
displays all command synonyms containing the substring "ver" or the substring "pr". Output similar to the following will be displayed

------------------ System Command Synonyms ------------------

user-defined synonyms satisfying patterns:
       ver pr
\begin{verbatim}
  )apr ............................ )what things
  )apropos ........................ )what things
  )prompt ......................... )set message prompt
\end{verbatim}
Several other things can be listed with the )what command:

commands
displays a list of system commands available. To get a description of a particular command, such as ")what", issue )help what.
synonyms
lists system command synonyms.
things
displays all of the above types for items containing the pattern strings as substrings. The command synonym )apropos is equivalent to )what things.
Also See: ')display', ')set', and ')show'

